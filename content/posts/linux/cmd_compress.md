---
title: "Linux 压缩命令"
date: 2020-03-15T14:46:09+08:00
draft: true
categories:
    - linux
tags:
    - shell
---

在 linux 上下载安装软件的时候，通常下载下来的文件都是经过压缩过的压缩包文件，这样做的目的是通过压缩，能够减少数据对网络带宽的占用，以便我们能够以更快的速度下载完成软件安装包。因此学习 linux 文件压缩解压缩命令是必不可少的。

<!--more-->

#### gzip

gzip可以说是 linux 中最常用的压缩命令了，它可以解压缩 compress、zip 以及 gzip 等软件压缩过的文件，一般压缩过后的文件以 `.gz` 后缀结尾。下列是命令的常用用法：

```shell
gzip [param] file # 压缩文件，原文件删除，生成新压缩文件以.gz结尾
-d # 解压缩文件
-r dir # 递归压缩文件夹内的所有文件
-f # 如果已有同名压缩文件则强制覆盖
-v # 压缩文件同时显示压缩比等信息
-l # 显示压缩文件的原始和现在的信息
-c # 将压缩后的内容输出到标准输出
-t # 测试文件是否为gzip压缩格式
-1 # 以不同的等级压缩文件，1最快，9压缩比最好
```

压缩过的文件可以通过 zcat 命令查看原始内容

```shell
zcat file
```

#### bzip2

bzip2 是另外一种压缩格式，压缩文件后缀为`.bz2` ，其压缩率比 gzip 更好，两个命令几乎相同，常用用法如下：

```shell
bzip2 [param] file
-d # 解压缩文件
-c # 将压缩后的内容输出到标准输出
-k # 压缩之后不删除原文件
-1 # 以不同的等级压缩文件，1最快，9压缩比最好
-f # 如果已有同名压缩文件则强制覆盖
```

bzip 压缩过的文件可以使用 bzcat 命令查看原始内容

```shell
bzcat file
```

#### tar

gzip 和 bzip2 都只能针对单个文件进行压缩，但是当需要压缩一个文件夹内的所有文件的时候，就需要先将文件夹进行打包成单个文件，然后再通过压缩命令进行压缩。打包后的文件后缀通常为`.tar`，详细用法如下：

```shell
tar [param] file # 将文件或者文件夹打包成一个文件
-c # 新建打包文件或者将打包后的内容输出到标准输出
-t # 查看打包后的文件的内容
-x # 解压缩，-c,-t,-x三者不可同时出现，且必须至少出现一个
-v # 显示打包过程
-z # 以gzip压缩解压缩，后缀通常为.tar.gz
-j # 以bzip2压缩解压缩,后缀通常为.tar.bz2
-f file # 设置打包后的文件名
-C # 设置解压缩的目录

-p # 保留文件的原有权限和属性
-P # 保留文件的绝对路径
```

下面有几种常用的压缩解压缩的命令组合：

```shell
tar -zcv -f file.tar.gz file # 打包并压缩文件
tar -ztv -f file.tar.gz # 查看已打包好的文件内容
tar -zxv -f file.tar.gz -C dir_name #解压缩tar + gzip文件
```

#### 参考

- 《Linux 私房菜》